# 工厂方法

工厂方法就是把创建对象逻辑进行收敛，让调用方可以通过参数控制具体要生成的某个具体产品。

也就是这里的 gui_factory.go 可以通过传参来生成 mac 或 window 的 gui 对象


### 工厂和抽象工厂的区别
如果只需要创建一种类型的产品（即单一产品线），工厂方法模式是更合适的选择。工厂方法专注于单一产品的创建，通过不同的工厂子类来生产具体的产品变体。
而当您的系统需要处理多种相关的产品类型（产品族），这些产品需要一起工作且具有一致的风格或主题时，抽象工厂模式更为适合。抽象工厂确保创建的产品彼此兼容，属于同一个产品族。
简单判断标准：
单一产品类型，多个变体 → 工厂方法
多个相关产品，需要成套使用 → 抽象工厂
这就像是只生产一种鞋子的工厂（工厂方法）和生产成套服装的工厂（抽象工厂）的区别。


### 适用场景
工厂方法模式在工程实践中通常用于以下场景：
- 框架扩展点 - 当框架需要创建对象但不知道具体实现类时，如日志框架中的日志记录器创建
- 插件系统 - 允许用户通过新增工厂实现来扩展系统功能，如媒体播放器的编解码器插件
- 配置驱动的对象创建 - 根据配置文件或用户设置动态选择创建哪种具体产品
- 数据转换器 - 为不同数据格式创建专门的解析器或转换器
- 策略选择 - 在运行时选择不同的算法实现，如不同的排序算法工厂
- 资源管理 - 创建各种资源对象（连接、缓存等），统一管理生命周期
- 连接池实现 - 创建和管理不同类型的连接对象
- 消息处理器 - 根据消息类型创建相应的处理器对象
- 命令模式结合 - 动态创建不同类型的命令对象
- 单一职责产品线 - 当系统只关注一种类型产品但有多种变体时

工厂方法的主要优势是将对象创建与使用分离，允许系统在不修改现有代码的情况下引入新的产品变体，符合开闭原则。当您只关注单一产品类型的多个变体，且需要灵活扩展这些变体时，工厂方法是理想选择。